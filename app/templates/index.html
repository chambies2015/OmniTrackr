<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1e1e2f">
  <meta name="description" content="OmniTrackr - Track and organize your movies and TV shows. Rate, review, and analyze your media collection with comprehensive statistics and beautiful posters.">
  <meta name="keywords" content="movie tracker, TV show tracker, media collection, movie database, watchlist, film tracker, entertainment tracker, movie ratings, TV ratings, media organizer">
  <meta name="author" content="OmniTrackr">
  <meta name="robots" content="index, follow">
  <meta name="language" content="English">
  <meta name="revisit-after" content="7 days">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://omnitrackr.xyz/">
  <meta property="og:title" content="OmniTrackr - Your Personal Media Tracking Companion">
  <meta property="og:description" content="Track and organize your movies and TV shows. Rate, review, and analyze your media collection with comprehensive statistics and beautiful posters.">
  <meta property="og:image" content="https://omnitrackr.xyz/omnitrackr_vortex.png">
  <meta property="og:site_name" content="OmniTrackr">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://omnitrackr.xyz/">
  <meta name="twitter:title" content="OmniTrackr - Your Personal Media Tracking Companion">
  <meta name="twitter:description" content="Track and organize your movies and TV shows. Rate, review, and analyze your media collection with comprehensive statistics and beautiful posters.">
  <meta name="twitter:image" content="https://omnitrackr.xyz/omnitrackr_vortex.png">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://omnitrackr.xyz/">
  
  <title>OmniTrackr - Track Movies & TV Shows | Media Collection Manager</title>
  <link rel="icon" type="image/x-icon" href="/omnitrackr_favicon.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css">
  
  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "OmniTrackr",
    "description": "Track and organize your movies and TV shows. Rate, review, and analyze your media collection with comprehensive statistics and beautiful posters.",
    "url": "https://omnitrackr.xyz",
    "applicationCategory": "EntertainmentApplication",
    "operatingSystem": "Web",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "150"
    },
    "featureList": [
      "Track Movies & TV Shows",
      "Statistics Dashboard",
      "Export/Import Data",
      "Automatic Posters",
      "Search & Sort",
      "Multi-user Support"
    ]
  }
  </script>
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "OmniTrackr",
    "url": "https://omnitrackr.xyz",
    "logo": "https://omnitrackr.xyz/omnitrackr_vortex.png",
    "contactPoint": {
      "@type": "ContactPoint",
      "email": "omnitrackr@gmail.com",
      "contactType": "Customer Service"
    },
    "sameAs": [
      "https://github.com/chambies2015/OmniTrackr",
      "https://www.linkedin.com/in/d-g-c/"
    ]
  }
  </script>
</head>

<body class="dark-mode">
  <button id="toggleMode" class="toggle-btn" aria-label="Toggle between dark and light mode">Light Mode</button>
  <div id="userDisplay" role="status" aria-live="polite"></div>
  <button id="logoutBtn" aria-label="Logout from your account">Logout</button>
  <main class="container" id="mainContainer">
    <header class="header" role="banner">
      <h1>OmniTrackr</h1>
    </header>

    <div class="tabs">
      <button class="tab active" onclick="switchTab('movies')">üé¨ Movies</button>
      <button class="tab" onclick="switchTab('tv-shows')">üì∫ TV Shows</button>
      <button class="tab" onclick="switchTab('statistics')">üìä Statistics</button>
    </div>

    <!-- Movies Tab Content -->
    <div id="movies-tab" class="tab-content active">
      <div class="card">
        <h2>Add Movie</h2>
        <form id="addMovieForm">
          <div>
            <input type="text" id="movieTitle" placeholder="Title" required>
          </div>
          <div>
            <input type="text" id="movieDirector" placeholder="Director" required>
          </div>
          <div>
            <input type="number" id="movieYear" placeholder="Year" required>
          </div>
          <div>
            <input type="number" min="0" max="10" id="movieRating" placeholder="Rating (0-10)">
          </div>
          <div>
            <label>Watched <input type="checkbox" id="movieWatched"></label>
          </div>
          <div>
            <input type="text" id="movieReview" placeholder="Review (optional)">
          </div>
          <button type="submit" class="action-btn">Add Movie</button>
        </form>
      </div>
      <div class="card">
        <div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
          <h2 style="margin: 0;">Movies</h2>
          <span id="movieCount" style="font-weight: bold;"></span>
        </div>
        <div style="display:flex; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
          <input type="text" id="movieSearch" placeholder="Search by title or director"
            style="flex: 2; min-width: 200px;">
          <select id="movieSort" style="flex: 1; min-width: 200px;">
            <option value="">Sort by...</option>
            <option value="rating-asc">Rating (Low ‚Üí High)</option>
            <option value="rating-desc">Rating (High ‚Üí Low)</option>
            <option value="year-asc">Year (Oldest ‚Üí Newest)</option>
            <option value="year-desc">Year (Newest ‚Üí Oldest)</option>
          </select>
          <button id="loadMovies" class="action-btn" style="flex: 1; min-width: 120px;">Load Movies</button>
          <button id="exportMovies" class="action-btn"
            style="flex: 1; min-width: 120px; background-color: #4caf50;">Export Data</button>
          <button id="importMovies" class="action-btn"
            style="flex: 1; min-width: 120px; background-color: #ff9800;">Import Data</button>
        </div>
        <input type="file" id="importFile" accept=".json" style="display: none;">
        <table id="movieTable">
          <thead>
            <tr>
              <th>Poster</th>
              <th>Title</th>
              <th>Director</th>
              <th>Year</th>
              <th>Rating</th>
              <th>Watched</th>
              <th>Review</th>
              <th>IMDb</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- TV Shows Tab Content -->
    <div id="tv-shows-tab" class="tab-content">
      <div class="card">
        <h2>Add TV Show</h2>
        <form id="addTVShowForm">
          <div>
            <input type="text" id="tvTitle" placeholder="Title" required>
          </div>
          <div>
            <input type="number" id="tvYear" placeholder="Year" required>
          </div>
          <div>
            <input type="number" id="tvSeasons" placeholder="Seasons (optional)">
          </div>
          <div>
            <input type="number" id="tvEpisodes" placeholder="Episodes (optional)">
          </div>
          <div>
            <input type="number" min="0" max="10" id="tvRating" placeholder="Rating (0-10)">
          </div>
          <div>
            <label>Watched <input type="checkbox" id="tvWatched"></label>
          </div>
          <div>
            <input type="text" id="tvReview" placeholder="Review (optional)">
          </div>
          <button type="submit" class="action-btn">Add TV Show</button>
        </form>
      </div>
      <div class="card">
        <div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
          <h2 style="margin: 0;">TV Shows</h2>
          <span id="tvShowCount" style="font-weight: bold;"></span>
        </div>
        <div style="display:flex; flex-wrap: wrap; gap: 10px; margin-bottom: 10px;">
          <input type="text" id="tvSearch" placeholder="Search by title" style="flex: 2; min-width: 200px;">
          <select id="tvSort" style="flex: 1; min-width: 200px;">
            <option value="">Sort by...</option>
            <option value="rating-asc">Rating (Low ‚Üí High)</option>
            <option value="rating-desc">Rating (High ‚Üí Low)</option>
            <option value="year-asc">Year (Oldest ‚Üí Newest)</option>
            <option value="year-desc">Year (Newest ‚Üí Oldest)</option>
          </select>
          <button id="loadTVShows" class="action-btn" style="flex: 1; min-width: 120px;">Load TV Shows</button>
          <button id="exportTVShows" class="action-btn"
            style="flex: 1; min-width: 120px; background-color: #4caf50;">Export Data</button>
          <button id="importTVShows" class="action-btn"
            style="flex: 1; min-width: 120px; background-color: #ff9800;">Import Data</button>
        </div>
        <input type="file" id="importTVFile" accept=".json" style="display: none;">
        <table id="tvShowTable">
          <thead>
            <tr>
              <th>Poster</th>
              <th>Title</th>
              <th>Year</th>
              <th>Seasons</th>
              <th>Episodes</th>
              <th>Rating</th>
              <th>Watched</th>
              <th>Review</th>
              <th>IMDb</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </div>

    <!-- Statistics Tab Content -->
    <div id="statistics-tab" class="tab-content">
      <div class="card">
        <h2>üìä Statistics Dashboard</h2>
        <div id="statsLoading" style="text-align: center; padding: 20px;">
          <p>Loading statistics...</p>
        </div>
        <div id="statsContent" style="display: none;">
          <!-- Watch Statistics -->
          <div class="stats-section">
            <h3>üìà Watch Progress</h3>
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-number" id="totalItems">0</div>
                <div class="stat-label">Total Items</div>
              </div>
              <div class="stat-card">
                <div class="stat-number" id="watchedItems">0</div>
                <div class="stat-label">Watched</div>
              </div>
              <div class="stat-card">
                <div class="stat-number" id="unwatchedItems">0</div>
                <div class="stat-label">Unwatched</div>
              </div>
              <div class="stat-card">
                <div class="stat-number" id="completionPercentage">0%</div>
                <div class="stat-label">Completion</div>
              </div>
            </div>
            <div class="progress-bar">
              <div class="progress-fill" id="progressFill"></div>
            </div>
          </div>

          <!-- Rating Statistics -->
          <div class="stats-section">
            <h3>‚≠ê Rating Analysis</h3>
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-number" id="averageRating">0.0</div>
                <div class="stat-label">Average Rating</div>
              </div>
              <div class="stat-card">
                <div class="stat-number" id="totalRatedItems">0</div>
                <div class="stat-label">Rated Items</div>
              </div>
            </div>
            <div class="rating-distribution">
              <h4>Rating Distribution</h4>
              <div id="ratingBars"></div>
            </div>
            <div class="top-rated">
              <h4>üèÜ Highest Rated</h4>
              <div id="highestRatedList"></div>
            </div>
          </div>

          <!-- Year Statistics -->
          <div class="stats-section">
            <h3>üìÖ Year Analysis</h3>
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-number" id="oldestYear">-</div>
                <div class="stat-label">Oldest Year</div>
              </div>
              <div class="stat-card">
                <div class="stat-number" id="newestYear">-</div>
                <div class="stat-label">Newest Year</div>
              </div>
            </div>
            <div class="decade-stats">
              <h4>Decade Breakdown</h4>
              <div id="decadeBars"></div>
            </div>
          </div>

          <!-- Director Statistics -->
          <div class="stats-section">
            <h3>üé¨ Director Analysis</h3>
            <div class="director-stats">
              <div class="director-column">
                <h4>Most Prolific Directors</h4>
                <div id="topDirectorsList"></div>
              </div>
              <div class="director-column">
                <h4>Highest Rated Directors</h4>
                <div id="highestRatedDirectorsList"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
  <!-- Landing Page -->
  <div id="landingPage" role="main">
    <!-- Hero Section -->
    <section class="landing-hero" aria-labelledby="hero-title">
      <h1 id="hero-title" class="landing-title">OmniTrackr</h1>
      <p class="landing-subtitle">Your personal media tracking companion</p>
    </section>

    <!-- Features Section -->
    <section class="landing-features" aria-labelledby="features-title">
      <h2 id="features-title" class="features-title">Why Choose OmniTrackr?</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üé¨</div>
          <h3>Track Movies & TV Shows</h3>
          <p>Organize your entire media collection in one place with ratings, reviews, and watch status.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üìä</div>
          <h3>Statistics Dashboard</h3>
          <p>Comprehensive analytics showing your viewing habits, ratings, and favorite directors.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üíæ</div>
          <h3>Export/Import Data</h3>
          <p>Backup your collection or import from JSON files with smart conflict resolution.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üñºÔ∏è</div>
          <h3>Automatic Posters</h3>
          <p>Beautiful movie and TV show posters fetched automatically from OMDB API.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üîç</div>
          <h3>Search & Sort</h3>
          <p>Find what you're looking for quickly with powerful search and sorting options.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üë•</div>
          <h3>Multi-user Support</h3>
          <p>Secure accounts with isolated data - your collection stays private to you.</p>
        </div>
      </div>
    </section>

    <!-- Authentication Section -->
    <section class="landing-auth">
      <div class="auth-container">
        <h2 id="authTitle">Login to OmniTrackr</h2>
        <div id="authError"></div>
        <div id="authSuccess" style="display: none;"></div>

        <!-- Login Form -->
        <div id="loginForm" class="auth-form">
          <form id="loginFormElement">
            <input type="text" id="loginUsername" placeholder="Username or Email" required>
            <input type="password" id="loginPassword" placeholder="Password" required>
            <button type="submit">Login</button>
          </form>
          <div id="resendVerificationContainer" style="display: none; margin-top: 15px; text-align: center;">
            <p style="margin-bottom: 10px; color: #666; font-size: 14px;">Didn't receive the verification email?</p>
            <button type="button" id="resendVerificationBtn" class="action-btn" style="background-color: #667eea; width: 100%;">
              Resend Verification Email
            </button>
          </div>
          <div class="auth-toggle">
            Don't have an account? <a id="showRegister">Register</a><br>
            <a id="showForgotPassword" style="font-size: 0.9em; margin-top: 5px; display: inline-block;">Forgot Password?</a>
          </div>
        </div>

        <!-- Register Form -->
        <div id="registerForm" class="auth-form" style="display: none;">
          <form id="registerFormElement">
            <input type="email" id="registerEmail" placeholder="Email" required>
            <input type="text" id="registerUsername" placeholder="Username" required>
            <input type="password" id="registerPassword" placeholder="Password" required>
            <input type="password" id="registerConfirmPassword" placeholder="Confirm Password" required>
            <button type="submit">Register</button>
          </form>
          <div class="auth-toggle">
            Already have an account? <a id="showLogin">Back to Login</a>
          </div>
        </div>

        <!-- Forgot Password Form -->
        <div id="forgotPasswordForm" class="auth-form" style="display: none;">
          <form id="forgotPasswordFormElement">
            <p style="text-align: center; margin-bottom: 20px;">Enter your email address and we'll send you a link to reset your password.</p>
            <input type="email" id="forgotPasswordEmail" placeholder="Email Address" required>
            <button type="submit">Send Reset Link</button>
          </form>
          <div class="auth-toggle">
            <a id="backToLogin">Back to Login</a>
          </div>
        </div>

        <!-- Reset Password Form (shown when accessing reset link) -->
        <div id="resetPasswordForm" class="auth-form" style="display: none;">
          <form id="resetPasswordFormElement">
            <p style="text-align: center; margin-bottom: 20px;">Enter your new password below.</p>
            <input type="password" id="newPassword" placeholder="New Password" required minlength="6">
            <input type="password" id="confirmNewPassword" placeholder="Confirm New Password" required minlength="6">
            <button type="submit">Reset Password</button>
          </form>
        </div>
      </div>
    </section>

    <!-- Footer Section -->
    <footer class="landing-footer">
      <div class="footer-content">
        <p class="footer-text">Connect with us</p>
        <div class="footer-links">
          <a href="mailto:omnitrackr@gmail.com" class="footer-link">üìß omnitrackr@gmail.com</a>
          <a href="https://github.com/chambies2015/OmniTrackr" target="_blank" rel="noopener noreferrer" class="footer-link">üêô GitHub</a>
          <a href="https://www.linkedin.com/in/d-g-c/" target="_blank" rel="noopener noreferrer" class="footer-link">üíº LinkedIn</a>
        </div>
      </div>
    </footer>
  </div>
  <script src="./credentials.js"></script>
  <script src="./auth.js"></script>
  <script src="./app.js"></script>
</body>

</html>